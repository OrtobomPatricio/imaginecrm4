# =====================
# Imagine Lab CRM PRO - PRODUCTION CONFIGURATION (EXAMPLE)
# =====================
# IMPORTANT: Copy this file to your deployment secret manager or VPS .env
# NEVER commit real credentials.

NODE_ENV=production
HOST=0.0.0.0
PORT=3000
APP_PORT=3000
MYSQL_PORT=3306

# ==== MySQL Database ====
DATABASE_URL=mysql://<db_user>:<db_password>@mysql:3306/chin_crm
MYSQL_ROOT_PASSWORD=<strong-root-password>
MYSQL_DATABASE=chin_crm
MYSQL_USER=crm
MYSQL_PASSWORD=<strong-db-password>

# ==== Auth ====
JWT_SECRET=<generate-64+-char-random-secret>
COOKIE_SECRET=<generate-64+-char-random-secret>
OWNER_OPEN_ID=<provisioned-owner-openid>

# ==== OAuth portal ====
VITE_OAUTH_PORTAL_URL=https://crm.example.com
VITE_APP_ID=chin-crm-prod
OAUTH_SERVER_URL=https://crm.example.com
CLIENT_URL=https://crm.example.com
VITE_API_URL=https://crm.example.com

# ==== Dev flags (must remain disabled in production) ====
ALLOW_DEV_LOGIN=0
ENABLE_DEV_BYPASS=0
VITE_DEV_BYPASS_AUTH=0
ALLOW_MOCK_DB=0

# ==== Encryption ====
DATA_ENCRYPTION_KEY=<generate-32+-char-random-secret>

# ==== WhatsApp Cloud API ====
WHATSAPP_WEBHOOK_VERIFY_TOKEN=<random-verify-token>
WHATSAPP_APP_SECRET=<meta-app-secret>
WHATSAPP_GRAPH_VERSION=v19.0
WHATSAPP_GRAPH_BASE_URL=https://graph.facebook.com

# ==== Bootstrap Admin ====
BOOTSTRAP_ADMIN_EMAIL=admin@example.com
BOOTSTRAP_ADMIN_PASSWORD=<strong-random-password>

# ==== Migrations ====
RUN_MIGRATIONS=1
REDIS_URL=redis://redis:6379
REQUIRE_REDIS_IN_PROD=1

# ==== Optional: Storage/Notification Proxy ====
BUILT_IN_FORGE_API_URL=
BUILT_IN_FORGE_API_KEY=

# ==== Trust Proxy ====
TRUST_PROXY=1

# ==== Rate Limiting ====
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=600
