# ============================================================
# ImagineCRM â€” EasyPanel Production ENV (ready-to-paste template)
# ============================================================
# Replace placeholder values before first deployment.

# Core
NODE_ENV=production
PORT=3000
TRUST_PROXY=1

# Database (EasyPanel internal service)
DATABASE_URL=mysql://mysql:<MYSQL_PASSWORD>@crm_crm-db:3306/crm

# Redis (EasyPanel internal service)
REDIS_URL=redis://default:<REDIS_PASSWORD>@crm_crm-redis:6379
REQUIRE_REDIS_IN_PROD=1

# Security secrets (generate cryptographically random values)
JWT_SECRET=<RANDOM_64_PLUS_CHARS>
COOKIE_SECRET=<RANDOM_64_PLUS_CHARS>
DATA_ENCRYPTION_KEY=<RANDOM_32_PLUS_CHARS>

# Auth / OAuth URLs (use your public HTTPS domain)
OAUTH_SERVER_URL=https://<YOUR_DOMAIN>
CLIENT_URL=https://<YOUR_DOMAIN>
VITE_API_URL=https://<YOUR_DOMAIN>
VITE_OAUTH_PORTAL_URL=https://<YOUR_DOMAIN>
VITE_APP_ID=imaginecrm

# Production safety flags
ALLOW_DEV_LOGIN=0
VITE_DEV_BYPASS_AUTH=0
ENABLE_DEV_BYPASS=0
ALLOW_MOCK_DB=0

# Cookie hardening
COOKIE_SAMESITE=lax
COOKIE_SECURE=1

# App bootstrap
OWNER_EMAIL=automatiza@imaginelab.agency
# Set to 1 on first deploy to run migrations automatically,
# then set back to 0 after schema is initialized.
RUN_MIGRATIONS=1

# Optional (recommended)
WHATSAPP_WEBHOOK_VERIFY_TOKEN=<RANDOM_VERIFY_TOKEN>
WHATSAPP_APP_SECRET=<META_APP_SECRET>
WHATSAPP_GRAPH_VERSION=v19.0
WHATSAPP_GRAPH_BASE_URL=https://graph.facebook.com
