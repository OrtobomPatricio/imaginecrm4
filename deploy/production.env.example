# ============================================================
# ImagineCRM — Configuración de Producción
# ============================================================
# Copia este archivo a .env y completa las variables requeridas

# ─── Dominio y URL ──────────────────────────────────────────
# Dominio principal donde se alojará el CRM (sin https://)
# Ej: crm.miempresa.com
APP_DOMAIN=your-domain.com
# Email para certificados TLS de Let's Encrypt
ACME_EMAIL=admin@your-domain.com

# ─── Seguridad ──────────────────────────────────────────────
# Generar con: openssl rand -hex 32
JWT_SECRET=
# Generar con: openssl rand -hex 32
DATA_ENCRYPTION_KEY=
# Generar con: openssl rand -hex 32
COOKIE_SECRET=

# ─── Base de Datos ──────────────────────────────────────────
MYSQL_DATABASE=imaginecrm
MYSQL_USER=imaginecrm
# Generar con: openssl rand -hex 16
MYSQL_PASSWORD=
# Generar con: openssl rand -hex 16
MYSQL_ROOT_PASSWORD=

# ─── Stripe (Billing) ───────────────────────────────────────
# Clave secreta de Stripe (sk_live_...)
STRIPE_SECRET_KEY=
# Secreto del webhook de Stripe (whsec_...)
STRIPE_WEBHOOK_SECRET=
# IDs de los precios de Stripe para cada plan
STRIPE_PRICE_STARTER=
STRIPE_PRICE_PRO=
STRIPE_PRICE_ENTERPRISE=

# ─── Email (SMTP) ───────────────────────────────────────────
# Servidor SMTP para enviar emails transaccionales
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
# Email desde el que se enviarán los correos
SMTP_FROM=noreply@your-domain.com

# ─── WhatsApp Cloud API (opcional) ──────────────────────────
# Secreto de la app de WhatsApp para validar webhooks
WHATSAPP_APP_SECRET=
# Token de verificación del webhook (se genera uno aleatorio si se deja vacío)
WHATSAPP_WEBHOOK_VERIFY_TOKEN=

# ─── Superadmin inicial ─────────────────────────────────────
# Email y contraseña para el primer usuario superadministrador
# La contraseña se genera aleatoriamente si se deja vacía
BOOTSTRAP_ADMIN_EMAIL=admin@your-domain.com
BOOTSTRAP_ADMIN_PASSWORD=

# ─── Configuración avanzada (no tocar si no es necesario) ───
NODE_ENV=production
PORT=3000
CLIENT_URL=https://${APP_DOMAIN}
DATABASE_URL=mysql://${MYSQL_USER}:${MYSQL_PASSWORD}@mysql:3306/${MYSQL_DATABASE}
REDIS_URL=redis://redis:6379
REQUIRE_REDIS_IN_PROD=1
RUN_MIGRATIONS=1
ALLOW_DEV_LOGIN=0
VITE_DEV_BYPASS_AUTH=0
VITE_OAUTH_PORTAL_URL=https://${APP_DOMAIN}
OAUTH_SERVER_URL=https://${APP_DOMAIN}
VITE_APP_ID=imaginecrm
STORAGE_PATH=/app/storage/uploads
MAX_UPLOAD_SIZE_MB=50
